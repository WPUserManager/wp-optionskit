wpJsonpFlightsWidget([1],{"+drO":function(e,t,n){"use strict";var s={name:"formit-multicheckbox",mixins:[n("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(e){return this.currentValue.includes(e)},onChange:function(e){!0===e.target.checked?this.checkedItems.push(e.target.value):this.checkedItems.splice(this.checkedItems.indexOf(e.target.value),1),this.$emit("input",this.checkedItems)}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"formit-multicheckbox-wrap"},e._l(e.selectOptions,function(t,s){return n("span",{key:s},[n("label",[n("input",e._b({ref:"input",refInFor:!0,attrs:{type:"checkbox",name:e.name},domProps:{value:s,checked:e.isSelected(s)},on:{change:e.onChange}},"input",e.attributes,!1)),e._v("\n        "+e._s(t))]),n("br")])}),0)},staticRenderFns:[]},r=n("VU/8")(s,i,!1,null,null,null);t.a=r.exports},"1FAl":function(e,t,n){"use strict";var s={name:"formit-checkbox",mixins:[n("JHA3").a]},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"formit-checkbox-wrapper"},[t("label",{attrs:{for:this.name}},[t("input",this._b({ref:"input",attrs:{type:"checkbox",name:this.name},domProps:{checked:this.currentValue},on:{change:this.handleChange}},"input",this.attributes,!1))])])},staticRenderFns:[]},r=n("VU/8")(s,i,!1,null,null,null);t.a=r.exports},"4wDe":function(e,t,n){"use strict";var s={name:"wp-notice",props:{type:String,alternative:Boolean,dismissible:Boolean},computed:{classes:function(){return["vue-wp-notice","notice-"+this.type,this.alternative?"is-alt":"",this.dismissible?"is-dismissible":""]}},data:function(){return{closed:!1}},methods:{close:function(e){this.closed=!0,this.$emit("on-close",e)}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.closed?e._e():n("div",{class:e.classes},[n("p",[e._t("default")],2),e._v(" "),e.dismissible?n("button",{staticClass:"notice-dismiss",attrs:{type:"button"},on:{click:e.close}},[n("span",{staticClass:"screen-reader-text"},[e._v("Dismiss this notice.")])]):e._e()])},staticRenderFns:[]};var r=n("VU/8")(s,i,!1,function(e){n("D0GN")},null,null);t.a=r.exports},D0GN:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),i=n("fZjL"),r=n.n(i),a=n("jnm5"),l={name:"App",data:function(){return{pageTitle:this.$optionsKitSettings.page_title,imgURL:this.$optionsKitSettings.logo,actionButtons:this.$optionsKitSettings.buttons,saveLabel:this.$optionsKitSettings.labels.save,successMessage:this.$optionsKitSettings.labels.success,errorMessage:this.$optionsKitSettings.labels.error,errorLabels:String,items:[],mainItems:[],isMainTab:Boolean,success:!1,model:this.$optionsKitSettings.options,form:new a.a}},created:function(){var e=this;this.detectMainTab(),this.$router.options.routes.forEach(function(t){t.name&&e.items.push({name:t.name,path:t.path,children:t.children})})},watch:{$route:function(){this.detectMainTab(),this.success=!1}},methods:{detectMainTab:function(){void 0===this.$router.currentRoute.meta.id?this.isMainTab=!1:this.isMainTab=!0},submit:function(){var e=this;this.success=!1,this.model.verifynonce=this.$optionsKitSettings.verifynonce,this.form.submit("post",this.$optionsKitSettings.rest_url+"records/",this.model,this.$optionsKitSettings.nonce).then(function(t){e.success=!0,e.model=t,document.body.scrollTop=document.documentElement.scrollTop=0}).catch(function(t){var n=e.form.errorsData,s="";r()(n).map(function(e,t){n[e].label&&(s+='"'+n[e].label+'", ')}),e.errorLabels=s.substring(0,s.length-2),document.body.scrollTop=document.documentElement.scrollTop=0})}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"optionskit-panel-container wrap",attrs:{id:"optionskit-panel"}},[n("form",{staticClass:"opk-form",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[n("section",{attrs:{id:"optionskit-topbar"}},[n("h1",[e.imgURL?n("img",{attrs:{src:e.imgURL}}):e._e(),e._v(e._s(e.pageTitle))]),e._v(" "),e.actionButtons.length>0?n("ul",{staticClass:"title-links"},e._l(e.actionButtons,function(t){return n("li",{key:t.url},[n("a",{staticClass:"page-title-action",attrs:{href:t.url}},[e._v(e._s(t.title))])])}),0):e._e(),e._v(" "),n("div",{staticClass:"save-area"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.form.isPending,expression:"form.isPending"}],staticClass:"spinner is-active opk-spinner"}),e._v(" "),n("input",{staticClass:"button button-primary",attrs:{type:"submit",disabled:e.form.isPending},domProps:{value:e.saveLabel}})]),e._v(" "),!0===e.success?n("wp-notice",{attrs:{type:"success",dismissible:"",alternative:""}},[n("strong",[e._v(e._s(e.successMessage))])]):e._e(),e._v(" "),e.form.errors.any()?n("wp-notice",{attrs:{type:"error",dismissible:"",alternative:""}},[n("strong",[e._v(e._s(e.errorMessage)+" "+e._s(e.errorLabels))])]):e._e()],1),e._v(" "),n("div",{staticClass:"optionskit-navigation-wrapper"},[n("div",{staticClass:"wp-filter",attrs:{id:"optionskit-navigation"}},[n("ul",{staticClass:"filter-links"},e._l(e.items,function(t){return n("li",{key:t.path},[t.name?n("router-link",{attrs:{to:t.path}},[e._v(e._s(t.name))]):e._e()],1)}),0)])]),e._v(" "),n("router-view",{attrs:{model:e.model,form:e.form}}),e._v(" "),e.isMainTab?n("router-view",{attrs:{name:"fields",model:e.model,form:e.form}}):e._e(),e._v(" "),n("button",{staticClass:"button button-primary opk-submit",attrs:{type:"submit",disabled:e.form.isPending}},[e._v(e._s(e.saveLabel))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.form.isPending,expression:"form.isPending"}],staticClass:"spinner is-active opk-spinner"})],1)])},staticRenderFns:[]};var c=n("VU/8")(l,o,!1,function(e){n("iIHG")},null,null).exports,u=n("/ocq"),d={name:"OptionsKitSubSections",props:{sections:[Object,Array,Boolean],model:{},form:{},parentName:String,parentPath:String}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"optionskit-sub-sections-wrapper"},[e.sections.length>0?n("div",{staticClass:"optionskit-subnav"},[n("ul",[n("li",[n("router-link",{attrs:{to:e.parentPath}},[e._v(e._s(e.parentName))]),n("span",[e._v("|")])],1),e._v(" "),e._l(e.sections,function(t){return n("li",{key:t.path},[t.name?n("router-link",{attrs:{to:t.path}},[e._v(e._s(t.name))]):e._e(),n("span",[e._v("|")])],1)})],2)]):e._e(),e._v(" "),n("router-view",{attrs:{model:e.model,form:e.form}})],1)},staticRenderFns:[]};var h=n("VU/8")(d,p,!1,function(e){n("ViC2")},null,null).exports,m={name:"fields-wrapper",props:{fields:{},model:{},form:{}},methods:{maybeShowField:function(e){if("hidden"===e.type)return!1;if(!e.toggle)return!0;var t=e.toggle;t instanceof Array||(t=[t]);for(var n={"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"==":function(e,t){return e==t},"===":function(e,t){return e===t},">=":function(e,t){return e>=t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},in:function(e,t){return!e.includes(t)},"not in":function(e,t){return e.includes(t)}},s=0;s<t.length;s++){var i=t[s],r="!=";if(i.hasOwnProperty("operator")&&(r=i.operator),n[r](this.model[i.key],i.value))return!1}return!0},classes:function(e){return["opk-field","text"==e?"regular-text":""]},getFieldComponentName:function(e){return"formit-"+e}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"optionskit-form-wrapper"},[n("table",{staticClass:"form-table"},e._l(e.fields,function(t){return n("tr",{directives:[{name:"show",rawName:"v-show",value:e.maybeShowField(t),expression:"maybeShowField(field)"}],key:t.id,class:{"has-error":e.form.errors.has(t.id)}},[n("th",{attrs:{scope:"row"}},[n("label",{attrs:{for:t.id}},[e._v(e._s(t.name))])]),e._v(" "),n("td",[n(e.getFieldComponentName(t.type),{tag:"component",class:e.classes(t.type),attrs:{field:t},model:{value:e.model[t.id],callback:function(n){e.$set(e.model,t.id,n)},expression:"model[field.id]"}}),e._v(" "),t.desc?n("p",{staticClass:"description",domProps:{innerHTML:e._s(t.desc)}}):e._e(),e._v(" "),n("wp-notice",{directives:[{name:"show",rawName:"v-show",value:e.form.errors.has(t.id),expression:"form.errors.has(field.id)"}],attrs:{type:"error",alternative:""}},[n("strong",[e._v(e._s(e.form.errors.get(t.id)))])])],1)])}),0)])},staticRenderFns:[]},v=n("VU/8")(m,f,!1,null,null,null).exports;s.a.use(u.a);var b=[];b.push({path:"/",redirect:r()(optionsKitSettings.tabs)[0]}),r()(optionsKitSettings.tabs).forEach(function(e){var t="/"+e,n=optionsKitSettings.sections[e],s=[];void 0!==n&&r()(n).forEach(function(e){s.push({path:t+"/"+e,name:n[e],component:v,props:{fields:optionsKitSettings.settings[e]}})}),b.push({path:t,name:optionsKitSettings.tabs[e],components:{default:h,fields:v},meta:{id:t.substring(1)},props:{default:{sections:s,parentPath:t,parentName:optionsKitSettings.tabs[e]},fields:{fields:optionsKitSettings.settings[t.substring(1)]}},children:s})});var g=new u.a({routes:b}),_=n("zrma"),k=n("tkJY"),x={name:"formit-file",mixins:[_.a],data:function(){return{selectFile:this.$optionsKitSettings.labels.upload,uploader:{}}},created:function(){var e=wp.media({title:this.selectFile,library:{type:"image"},button:{text:this.selectFile},multiple:!1});this.uploader=e},methods:{openMedia:function(){var e=this.uploader,t=this;e.on("select",function(){var n=e.state().get("selection").first().toJSON();t.setFile(n.url)}),e.open()},setFile:function(e){this.$emit("input",e)}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"opk-upload-field-wrapper"},[n("input",e._b({ref:"input",staticClass:"regular-text",attrs:{type:"text",name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1)),e._v(" "),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){return e.openMedia()}}},[n("span",{staticClass:"dashicons dashicons-plus"}),e._v(e._s(e.selectFile))])])},staticRenderFns:[]},w=n("VU/8")(x,y,!1,null,null,null).exports,C=n("RUzx"),S={name:"formit-multiselect",components:{Multiselect:n.n(C).a},props:{field:{}},data:function(){return{selected:null,multiple:this.isMultiple(),selectLabel:this.getLabel("selectLabel"),placeholder:this.getLabel("placeholder"),SelectedLabel:this.getLabel("SelectedLabel"),deselectLabel:this.getLabel("deselectLabel"),options:this.field.options}},mounted:function(){var e=this.$optionsKitSettings.options[this.field.id],t=this.field.options,n=[];if(e instanceof Array)e.forEach(function(e){var s=t.filter(function(t){return t.value==e});s.length&&n.push({label:s[0].label,value:s[0].value})}),this.selected=n;else if(""==e)this.selected=null;else{var s=t.filter(function(t){return t.value==e});s.length&&n.push({label:s[0].label,value:s[0].value}),this.selected=n}},methods:{getLabel:function(e){return this.field.labels?this.field.labels[e]:this.$optionsKitSettings.labels.multiselect[e]},isMultiple:function(){return!!this.field.multiple},triggerChange:function(e){var t=e;!0===this.multiple?(t=[],e.forEach(function(e){t.push(e.value)})):t=null===t?null:t.value,this.$emit("input",t)}}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"opk-multiselect-field-wrapper"},[n("multiselect",{attrs:{options:e.options,multiple:e.multiple,selectLabel:e.selectLabel,placeholder:e.placeholder,SelectedLabel:e.SelectedLabel,deselectLabel:e.deselectLabel,"track-by":"value",label:"label"},on:{input:e.triggerChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},staticRenderFns:[]};var $=n("VU/8")(S,F,!1,function(e){n("c5a0")},null,null).exports,L={name:"formit-anchor",mixins:[_.a],data:function(){return{label:this.field.label,href:this.field.href,selectedClass:this.field.class?this.field.class:"",selectedTarget:this.field.target?this.field.target:""}}},V={render:function(){var e=this.$createElement;return(this._self._c||e)("a",{class:this.selectedClass,attrs:{href:this.href,target:this.selectedTarget}},[this._v(this._s(this.label))])},staticRenderFns:[]},K=n("VU/8")(L,V,!1,null,null,null).exports,P={name:"formit-html",mixins:[_.a],data:function(){return{label:this.field.label,html:this.field.html}}},E={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{domProps:{innerHTML:this._s(this.html)}})},staticRenderFns:[]},I=n("VU/8")(P,E,!1,null,null,null).exports,R={name:"formit-hidden",mixins:[_.a]},M={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",e._b({ref:"input",attrs:{type:"hidden",name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1))},staticRenderFns:[]},U=n("VU/8")(R,M,!1,null,null,null).exports;s.a.use(_.b),s.a.use(k.a),s.a.component("formit-file",w),s.a.component("formit-multiselect",$),s.a.component("formit-anchor",K),s.a.component("formit-html",I),s.a.component("formit-hidden",U),s.a.config.productionTip=!1,s.a.prototype.$optionsKitSettings=optionsKitSettings,new s.a({el:"#optionskit-page",router:g,components:{App:c},template:"<App/>"})},ViC2:function(e,t){},WBSg:function(e,t,n){"use strict";var s={name:"formit-text",mixins:[n("JHA3").a]},i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",e._b({ref:"input",attrs:{type:"text",name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1))},staticRenderFns:[]},r=n("VU/8")(s,i,!1,null,null,null);t.a=r.exports},c5a0:function(e,t){},hWF4:function(e,t,n){"use strict";var s={name:"formit-textarea",mixins:[n("JHA3").a]},i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",e._b({ref:"input",attrs:{type:"text",name:e.name,cols:"50",rows:"5"},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"textarea",e.attributes,!1))},staticRenderFns:[]},r=n("VU/8")(s,i,!1,null,null,null);t.a=r.exports},iIHG:function(e,t){},qpkK:function(e,t,n){"use strict";var s={name:"formit-radio",mixins:[n("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(e){return this.currentValue.includes(e)}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"formit-radio-wrap"},e._l(e.selectOptions,function(t,s){return n("span",{key:s},[n("label",[n("input",e._b({ref:"input",refInFor:!0,attrs:{type:"radio",name:e.name},domProps:{value:s,checked:e.isSelected(s)},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1)),e._v("\n        "+e._s(t))]),n("br")])}),0)},staticRenderFns:[]},r=n("VU/8")(s,i,!1,null,null,null);t.a=r.exports},ssIX:function(e,t,n){"use strict";var s={name:"formit-select",mixins:[n("JHA3").a]},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",e._b({ref:"input",attrs:{name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"select",e.attributes,!1),e._l(e.selectOptions,function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v("\n            "+e._s(t)+"\n        ")])}),0)},staticRenderFns:[]},r=n("VU/8")(s,i,!1,null,null,null);t.a=r.exports}},["NHnr"]);
//# sourceMappingURL=app.js.map