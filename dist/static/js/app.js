webpackJsonp([1],{"+TBs":function(e,t){},"+drO":function(e,t,s){"use strict";var n={name:"formit-multicheckbox",mixins:[s("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(e){return this.currentValue.includes(e)},onChange:function(e){!0===e.target.checked?this.checkedItems.push(e.target.value):this.checkedItems.splice(this.checkedItems.indexOf(e.target.value),1),this.$emit("input",this.checkedItems)}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"formit-multicheckbox-wrap"},e._l(e.selectOptions,function(t,n){return s("span",{key:n},[s("label",[s("input",e._b({ref:"input",refInFor:!0,attrs:{type:"checkbox",name:e.name},domProps:{value:n,checked:e.isSelected(n)},on:{change:e.onChange}},"input",e.attributes,!1)),e._v("\n        "+e._s(t))]),s("br")])}))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);t.a=a.exports},"1FAl":function(e,t,s){"use strict";var n={name:"formit-checkbox",mixins:[s("JHA3").a]},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"formit-checkbox-wrapper"},[t("label",{attrs:{for:this.name}},[t("input",this._b({ref:"input",attrs:{type:"checkbox",name:this.name},domProps:{checked:this.currentValue},on:{change:this.handleChange}},"input",this.attributes,!1))])])},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);t.a=a.exports},"4wDe":function(e,t,s){"use strict";var n={name:"wp-notice",props:{type:String,alternative:Boolean,dismissible:Boolean},computed:{classes:function(){return["vue-wp-notice","notice-"+this.type,this.alternative?"is-alt":"",this.dismissible?"is-dismissible":""]}},data:function(){return{closed:!1}},methods:{close:function(e){this.closed=!0,this.$emit("on-close",e)}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.closed?e._e():s("div",{class:e.classes},[s("p",[e._t("default")],2),e._v(" "),e.dismissible?s("button",{staticClass:"notice-dismiss",attrs:{type:"button"},on:{click:e.close}},[s("span",{staticClass:"screen-reader-text"},[e._v("Dismiss this notice.")])]):e._e()])},staticRenderFns:[]};var a=s("VU/8")(n,i,!1,function(e){s("D0GN")},null,null);t.a=a.exports},BNf6:function(e,t){},D0GN:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a=s("fZjL"),r=s.n(a),l=s("jnm5"),o={name:"App",data:function(){return{pageTitle:this.$optionsKitSettings.page_title,imgURL:this.$optionsKitSettings.logo,actionButtons:this.$optionsKitSettings.buttons,saveLabel:this.$optionsKitSettings.labels.save,successMessage:this.$optionsKitSettings.labels.success,errorMessage:this.$optionsKitSettings.labels.error,errorLabels:String,items:[],mainItems:[],isMainTab:Boolean,success:!1,model:this.$optionsKitSettings.options,form:new l.a}},created:function(){var e=this;this.detectMainTab(),this.$router.options.routes.forEach(function(t){t.name&&e.items.push({name:t.name,path:t.path,children:t.children})})},watch:{$route:function(){this.detectMainTab(),this.success=!1}},methods:{detectMainTab:function(){void 0===this.$router.currentRoute.meta.id?this.isMainTab=!1:this.isMainTab=!0},submit:function(){var e=this;this.success=!1,this.model.verifynonce=this.$optionsKitSettings.verifynonce,this.form.submit("post",this.$optionsKitSettings.rest_url+"records",this.model,this.$optionsKitSettings.nonce).then(function(t){e.success=!0,e.model=t,document.body.scrollTop=document.documentElement.scrollTop=0}).catch(function(t){var s=e.form.errorsData,n="";r()(s).map(function(e,t){s[e].label&&(n+='"'+s[e].label+'", ')}),e.errorLabels=n.substring(0,n.length-2),document.body.scrollTop=document.documentElement.scrollTop=0})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"optionskit-panel-container wrap",attrs:{id:"optionskit-panel"}},[s("form",{staticClass:"opk-form",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("section",{attrs:{id:"optionskit-topbar"}},[s("h1",[e.imgURL?s("img",{attrs:{src:e.imgURL}}):e._e(),e._v(e._s(e.pageTitle))]),e._v(" "),e.actionButtons.length>0?s("ul",{staticClass:"title-links"},e._l(e.actionButtons,function(t){return s("li",{key:t.url},[s("a",{staticClass:"page-title-action",attrs:{href:t.url}},[e._v(e._s(t.title))])])})):e._e(),e._v(" "),s("div",{staticClass:"save-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.isPending,expression:"form.isPending"}],staticClass:"spinner is-active opk-spinner"}),e._v(" "),s("input",{staticClass:"button button-primary",attrs:{type:"submit",disabled:e.form.isPending},domProps:{value:e.saveLabel}})]),e._v(" "),!0===e.success?s("wp-notice",{attrs:{type:"success",dismissible:"",alternative:""}},[s("strong",[e._v(e._s(e.successMessage))])]):e._e(),e._v(" "),e.form.errors.any()?s("wp-notice",{attrs:{type:"error",dismissible:"",alternative:""}},[s("strong",[e._v(e._s(e.errorMessage)+" "+e._s(e.errorLabels))])]):e._e()],1),e._v(" "),s("div",{staticClass:"optionskit-navigation-wrapper"},[s("div",{staticClass:"wp-filter",attrs:{id:"optionskit-navigation"}},[s("ul",{staticClass:"filter-links"},e._l(e.items,function(t){return s("li",{key:t.path},[t.name?s("router-link",{attrs:{to:t.path}},[e._v(e._s(t.name))]):e._e()],1)}))])]),e._v(" "),s("router-view",{attrs:{model:e.model,form:e.form}}),e._v(" "),e.isMainTab?s("router-view",{attrs:{name:"fields",model:e.model,form:e.form}}):e._e(),e._v(" "),s("button",{staticClass:"button button-primary opk-submit",attrs:{type:"submit",disabled:e.form.isPending}},[e._v(e._s(e.saveLabel))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.form.isPending,expression:"form.isPending"}],staticClass:"spinner is-active opk-spinner"})],1)])},staticRenderFns:[]};var u=s("VU/8")(o,c,!1,function(e){s("+TBs")},null,null).exports,p=s("/ocq"),d={name:"OptionsKitSubSections",props:{sections:[Object,Array,Boolean],model:{},form:{},parentName:String,parentPath:String}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"optionskit-sub-sections-wrapper"},[e.sections.length>0?s("div",{staticClass:"optionskit-subnav"},[s("ul",[s("li",[s("router-link",{attrs:{to:e.parentPath}},[e._v(e._s(e.parentName))]),s("span",[e._v("|")])],1),e._v(" "),e._l(e.sections,function(t){return s("li",{key:t.path},[t.name?s("router-link",{attrs:{to:t.path}},[e._v(e._s(t.name))]):e._e(),s("span",[e._v("|")])],1)})],2)]):e._e(),e._v(" "),s("router-view",{attrs:{model:e.model,form:e.form}})],1)},staticRenderFns:[]};var h=s("VU/8")(d,m,!1,function(e){s("ViC2")},null,null).exports,f={name:"fields-wrapper",props:{fields:{},model:{},form:{}},methods:{showField:function(e){if(!e.toggle)return!0;var t=e.toggle;t instanceof Array||(t=[t]);for(;0<(0).length();i++)if(this.model[(0).key]!=(0).value)return!1;return!0},classes:function(e){return["opk-field","text"==e?"regular-text":""]},getFieldComponentName:function(e){return"formit-"+e}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"optionskit-form-wrapper"},[s("table",{staticClass:"form-table"},e._l(e.fields,function(t){return s("tr",{directives:[{name:"show",rawName:"v-show",value:!t.toggle||e.model[t.toggle.key]==t.toggle.value,expression:"! field.toggle || model[field.toggle.key] == field.toggle.value"}],key:t.id,class:{"has-error":e.form.errors.has(t.id)}},[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:t.id}},[e._v(e._s(t.name))])]),e._v(" "),s("td",[s(e.getFieldComponentName(t.type),{tag:"component",class:e.classes(t.type),attrs:{field:t},model:{value:e.model[t.id],callback:function(s){e.$set(e.model,t.id,s)},expression:"model[field.id]"}}),e._v(" "),t.desc?s("p",{staticClass:"description"},[e._v(e._s(t.desc))]):e._e(),e._v(" "),s("wp-notice",{directives:[{name:"show",rawName:"v-show",value:e.form.errors.has(t.id),expression:"form.errors.has(field.id)"}],attrs:{type:"error",alternative:""}},[s("strong",[e._v(e._s(e.form.errors.get(t.id)))])])],1)])}))])},staticRenderFns:[]},b=s("VU/8")(f,v,!1,null,null,null).exports;n.a.use(p.a);var g=[];g.push({path:"/",redirect:r()(optionsKitSettings.tabs)[0]}),r()(optionsKitSettings.tabs).forEach(function(e){var t="/"+e,s=optionsKitSettings.sections[e],n=[];void 0!==s&&r()(s).forEach(function(e){n.push({path:t+"/"+e,name:s[e],component:b,props:{fields:optionsKitSettings.settings[e]}})}),g.push({path:t,name:optionsKitSettings.tabs[e],components:{default:h,fields:b},meta:{id:t.substring(1)},props:{default:{sections:n,parentPath:t,parentName:optionsKitSettings.tabs[e]},fields:{fields:optionsKitSettings.settings[t.substring(1)]}},children:n})});var _=new p.a({routes:g}),k=s("zrma"),x=s("tkJY"),C={name:"formit-file",mixins:[k.a],data:function(){return{selectFile:this.$optionsKitSettings.labels.upload,uploader:{}}},created:function(){var e=wp.media({title:this.selectFile,library:{type:"image"},button:{text:this.selectFile},multiple:!1});this.uploader=e},methods:{openMedia:function(){var e=this.uploader,t=this;e.on("select",function(){var s=e.state().get("selection").first().toJSON();t.setFile(s.url)}),e.open()},setFile:function(e){this.$emit("input",e)}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"opk-upload-field-wrapper"},[s("input",e._b({ref:"input",staticClass:"regular-text",attrs:{type:"text",name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1)),e._v(" "),s("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){e.openMedia()}}},[s("span",{staticClass:"dashicons dashicons-plus"}),e._v(e._s(e.selectFile))])])},staticRenderFns:[]},y=s("VU/8")(C,w,!1,null,null,null).exports,S=s("RUzx"),$={name:"formit-multiselect",components:{Multiselect:s.n(S).a},props:{field:{}},data:function(){return{selected:null,multiple:this.isMultiple(),selectLabel:this.getLabel("selectLabel"),placeholder:this.getLabel("placeholder"),SelectedLabel:this.getLabel("SelectedLabel"),deselectLabel:this.getLabel("deselectLabel"),options:this.field.options}},mounted:function(){var e=this.$optionsKitSettings.options[this.field.id],t=this.field.options,s=[];if(e instanceof Array)e.forEach(function(e){var n=t.filter(function(t){return t.value==e});s.push({label:n[0].label,value:n[0].value})}),this.selected=s;else if(""==e)this.selected=null;else{var n=t.filter(function(t){return t.value==e});s.push({label:n[0].label,value:n[0].value}),this.selected=s}},methods:{getLabel:function(e){return this.field.labels?this.field.labels[e]:this.$optionsKitSettings.labels.multiselect[e]},isMultiple:function(){return!!this.field.multiple},triggerChange:function(e){var t=e;!0===this.multiple?(t=[],e.forEach(function(e){t.push(e.value)})):t=null===t?null:t.value,this.$emit("input",t)}}},F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"opk-multiselect-field-wrapper"},[s("multiselect",{attrs:{options:e.options,multiple:e.multiple,selectLabel:e.selectLabel,placeholder:e.placeholder,SelectedLabel:e.SelectedLabel,deselectLabel:e.deselectLabel,"track-by":"value",label:"label"},on:{input:e.triggerChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},staticRenderFns:[]};var L=s("VU/8")($,F,!1,function(e){s("BNf6")},null,null).exports,K={name:"formit-anchor",mixins:[k.a],data:function(){return{label:this.field.label,href:this.field.href,selectedClass:this.field.class?this.field.class:"",selectedTarget:this.field.target?this.field.target:""}}},V={render:function(){var e=this.$createElement;return(this._self._c||e)("a",{class:this.selectedClass,attrs:{href:this.href,target:this.selectedTarget}},[this._v(this._s(this.label))])},staticRenderFns:[]},E=s("VU/8")(K,V,!1,null,null,null).exports;n.a.use(k.b),n.a.use(x.a),n.a.component("formit-file",y),n.a.component("formit-multiselect",L),n.a.component("formit-anchor",E),n.a.config.productionTip=!1,n.a.prototype.$optionsKitSettings=optionsKitSettings,new n.a({el:"#optionskit-page",router:_,components:{App:u},template:"<App/>"})},ViC2:function(e,t){},WBSg:function(e,t,s){"use strict";var n={name:"formit-text",mixins:[s("JHA3").a]},i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",e._b({ref:"input",attrs:{type:"text",name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);t.a=a.exports},hWF4:function(e,t,s){"use strict";var n={name:"formit-textarea",mixins:[s("JHA3").a]},i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",e._b({ref:"input",attrs:{type:"text",name:e.name,cols:"50",rows:"5"},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"textarea",e.attributes,!1))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);t.a=a.exports},qpkK:function(e,t,s){"use strict";var n={name:"formit-radio",mixins:[s("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(e){return this.currentValue.includes(e)}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"formit-radio-wrap"},e._l(e.selectOptions,function(t,n){return s("span",{key:n},[s("label",[s("input",e._b({ref:"input",refInFor:!0,attrs:{type:"radio",name:e.name},domProps:{value:n,checked:e.isSelected(n)},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"input",e.attributes,!1)),e._v("\n        "+e._s(t))]),s("br")])}))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);t.a=a.exports},ssIX:function(e,t,s){"use strict";var n={name:"formit-select",mixins:[s("JHA3").a]},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",e._b({ref:"input",attrs:{name:e.name},domProps:{value:e.currentValue},on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur}},"select",e.attributes,!1),e._l(e.selectOptions,function(t,n){return s("option",{key:n,domProps:{value:n}},[e._v("\n            "+e._s(t)+"\n        ")])}))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);t.a=a.exports}},["NHnr"]);
//# sourceMappingURL=app.js.map